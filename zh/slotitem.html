<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta name="keywords" content="萌萌数据库,装备开发统计,舰队collection,舰船建造统计,舰娘数据库" />
<meta name="description" content="本站支持多装备概率叠加显示，特定旗舰出货概率显示" />
<meta content="yes" name="apple-mobile-web-app-capable" /><!--iphone设备中的safari私有meta标签，它表示：允许全屏模式浏览-->
<meta content="black" name="apple-mobile-web-app-status-bar-style" /><!--iphone的私有标签，它指定的iphone中safari顶端的状态条的样式-->
<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../images/logo/icon.png">
    <title>萌萌数据库 - 装备数值</title>
    <!-- Bootstrap core CSS -->
    <!-- <link href="http://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"> -->
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet">
    <!-- <link href="https://cdn.bootcss.com/bootstrap-table/1.18.0/bootstrap-table.min.css" rel="stylesheet"> -->
    <link href="https://cdn.bootcdn.net/ajax/libs/bootstrap-table/1.18.0/bootstrap-table.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../dist/css/dashboard.css">
    <link rel="stylesheet" href="../dist/css/selection.css">
    <style id='csscontainer'></style>
    <style>
        /* .fix-sticky {padding-top: 40px;        position: fixed !important;        overflow: hidden;        z-index: 100;} */
        /* .sticky-header-container {margin-top: 40px;} */
        .fix-sticky table thead {background: #fff;}
        table tbody tr td{ white-space: nowrap !important; }
        /* .table thead th .th-inner { white-space: normal !important; } */
        .bootstrap-table table tbody tr td:nth-of-type(2){
        display: flex;
        align-items: center;
        }
    </style>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SQLQ5EBLTM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SQLQ5EBLTM');
</script>
</head>

  <body>
    <div id="nav"></div>
    <div id="bgpic"><div id="bgcolor">
    <div class="container-fluid">
      <div class="row">
        <div class="main">
          <h1 class="page-header" align="center">装备数值</h1><div class="table-responsive">
            <div class="bootstrap-table">
             
            <div id="toolbar" class="form-inline">
                <input id="page" class="form-control" style="width: 60px" type="number" value="1" min="1">
                <button id="jump" class="btn btn-secondary">跳页</button>
                <select class="form-control" id="locale">
                    <option value="zh-CN" selected="selected">Language</option>
                    <option value="en-US">English</option>
                    <option value="zh-CN">简体中文</option>
                    <option value="zh-TW">繁體中文</option>
                    <option value="ja-JP">日本語</option>
                    <option value="ko-KR">한국어</option>
                    <option value="ru-RU">Русский</option>
                    <option value="fr-FR">Français</option>
                    <option value="de-DE">Deutsch</option>
                  <option value="af-ZA">af-ZA</option>
                  <option value="ar-SA">ar-SA</option>
                  <option value="ca-ES">ca-ES</option>
                  <option value="cs-CZ">cs-CZ</option>
                  <option value="el-GR">el-GR</option>
                  <option value="es-AR">es-AR</option>
                  <option value="es-CL">es-CL</option>
                  <option value="es-CR">es-CR</option>
                  <option value="es-ES">es-ES</option>
                  <option value="es-MX">es-MX</option>
                  <option value="es-NI">es-NI</option>
                  <option value="es-SP">es-SP</option>
                  <option value="et-EE">et-EE</option>
                  <option value="eu-EU">eu-EU</option>
                  <option value="fa-IR">fa-IR</option>
                  <option value="fi-FI">fi-FI</option>
                  <option value="fr-BE">fr-BE</option>
                  <option value="he-IL">he-IL</option>
                  <option value="hr-HR">hr-HR</option>
                  <option value="hu-HU">hu-HU</option>
                  <option value="id-ID">id-ID</option>
                  <option value="it-IT">it-IT</option>
                  <option value="ka-GE">ka-GE</option>
                  <option value="ms-MY">ms-MY</option>
                  <option value="nb-NO">nb-NO</option>
                  <option value="nl-NL">nl-NL</option>
                  <option value="pl-PL">pl-PL</option>
                  <option value="pt-BR">pt-BR</option>
                  <option value="pt-PT">pt-PT</option>
                  <option value="ro-RO">ro-RO</option>
                  <option value="sk-SK">sk-SK</option>
                  <option value="sv-SE">sv-SE</option>
                  <option value="th-TH">th-TH</option>
                  <option value="tr-TR">tr-TR</option>
                  <option value="uk-UA">uk-UA</option>
                  <option value="ur-PK">ur-PK</option>
                  <option value="uz-Latn-UZ">uz-Latn</option>
                  <option value="vi-VN">vi-VN</option>
                </select>
                <div class="loading" style="text-align: center;">
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                   <circle cx="50" cy="50" r="45"></circle>
                  </svg>
                </div>
            </div>
            <span>
            <table id="mytab" 
            data-toolbar="#toolbar"
            data-search="true" 
            data-filterable='true' 
            data-filter-control="true" 
            data-width="1000px"
            data-sortable="true" 
            data-show-columns="true"
            data-show-export="false"
            data-show-fullscreen="true"
            data-show-pagination-switch="true"
            data-unique-id="uid"
            class="table table-hover"
            >
            </table></span>
            
        </div>
    
    <h1 class="page-header" align="center">数据可视化</h1>
    <div class="table-responsive"> 
  <div class="show text-nowrap" id="show"></div>  
<div class="cstype"></div><div class="cfinal"></div>   <button id='selectAll'>全选</button> <button id='ReverseSelect'>反选</button>
排序：<select title="可在表格中对内容进行排序" id="sort">
    <option value='sum' selected>属性值</option>
    <option value="itype">类型</option>
    <option value="houg">火力</option>
    <option value="raig">雷装</option>
    <option value="HP">HP</option>
    <option value="souk">装甲</option>
    <option value="evasion">回避</option>
    <option value="tyku">对空</option>
    <option value="anti_submarine">对潜</option>
    <option value="sight">索敌</option>
    <option value="luck">运</option>
    <option value="id">ID</option>
    <option value='unsort' >表格顺序</option>
</select>
<input type="checkbox" checked='checked' id="desc">降序排列
<select name="" id="stack">
    <option value=0 selected>默认</option>
    <option value=1>堆叠</option>
    <option value=2>分散</option>
</select>
<select name="" id="shape">
    <option value="bar" selected>柱状图</option>
    <option value="line">折线图</option>
</select>
<button id="button2" title="可在表格中对内容进行排序" classs="btn btn-secondary">选中数据生成图表</button><span id="inform"></span></div></div>
<div id="container"></div><!--row-->
</div><!--container-fluid-->

<div id="foot"></div></div></div></div></div>
<i id="js"></i>
<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<!-- <script>window.jQuery || document.write('<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"><\/script>')</script> -->
<script>
    $("#nav").load("nav.html");
    $("#foot").load("../foot.html");
</script>
<!-- <script src="http://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> -->
<script type="text/javascript" src= "../dist/js/jgs.js"> </script>  
<script type="text/javascript" src= "../dist/js/simplize.js"> </script>  
<script type="text/javascript" src="../dist/js/item.js"> </script>
<script type="text/javascript" src= "../dist/js/share.js"> </script>  
<script type="text/javascript" src= "../dist/js/table.js"> </script>  
<script type="text/javascript" src= "../dist/js/line.js"> </script>  
<script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js"></script>
<!-- <script src="https://cdn.bootcss.com/bootstrap-table/1.18.0/bootstrap-table.min.js"></script> -->
<script src="https://cdn.bootcdn.net/ajax/libs/bootstrap-table/1.18.0/bootstrap-table.min.js"></script>
<!-- <script src="../dist/js/tableExport.min.js"></script> -->
<!-- <script src="https://unpkg.com/tableexport.jquery.plugin/tableExport.min.js"></script> -->
<!-- <script src="https://cdn.bootcdn.net/ajax/libs/bootstrap-table/1.18.0/extensions/export/bootstrap-table-export.min.js"></script> -->
<!-- <script src="https://cdn.bootcdn.net/ajax/libs/bootstrap-table/1.18.0/bootstrap-table-locale-all.js"></script> -->
<script src="https://cdn.bootcdn.net/ajax/libs/bootstrap-table/1.18.0/locale/bootstrap-table-zh-CN.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/bootstrap-table/1.18.0/extensions/filter-control/bootstrap-table-filter-control.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/bootstrap-table/1.18.0/extensions/sticky-header/bootstrap-table-sticky-header.min.js"></script>
<!-- <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script> -->
<script type="text/javascript">
</script>
<script>    //language
var kj=false
var cm12={
    "id": 1,
    "name": "12cm単装砲",
    "itype":1,
    "developable":"",
    "houg": 1,
    "raig": 0,
    "baku": 0,
    "tyku": 1,
    "tais": 0,
    "saku": 0,
    "houm": 0,
    "broken": [0, 1, 1, 0],
    "houk": 0,
    "souk": 0,
    "leng": 1,
    "luck": 0,
    "raik": 0,
    "raim": 0,
    "rare": 0,
    "sakb": 0,
    "soku": 0,
    "sortno": 1,
    "taik": 0,
    "type": [1, 1, 1, 1, 0],
    "usebull": 0,
    "atap": 0,
    "bakk": 0,
    "version": 2
}
var detect=(navigator.browserLanguage || navigator.language)
if(!havelang){
    if (detect.length>0){console.log(detect);}else{detect="zh-CN"}
    if(detect.slice(0,2)=='zh'||detect.slice(0,2)=='ja'){
        kj=true
    }
    selectlang=document.getElementById("locale")
    for(i=0;i<selectlang.length;i++){
    if(selectlang[i].value==detect)
    selectlang[i].selected = true;
    }}
    $.getJSON("../parsed/api_mst_slotitem_equiptype.json", function (result) {
    itype=result}).done(function (){
    langchange()
    $('#locale').change(function(){
        langchange();setlang();});
    setTimeout(function(){
    js("https://cdn.bootcdn.net/ajax/libs/bootstrap-table/1.18.0/bootstrap-table-locale-all.js")
    js("https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js")
    if(!havelang){
    document.getElementById("locale")[0].selected = true;}
    $('.loading').hide();
    },   500);
    setTimeout(function(){
    // $("#foot").load("foot.html");
    $('.search-input').bind("input onchange", function() {
        setTimeout(function(){
            for(i=0;i<document.getElementsByClassName('search-input').length;i++){
        //console.log(document.getElementsByClassName('search-input')[i])
            document.getElementsByClassName('search-input')[i].value=Japanized(document.getElementsByClassName('search-input')[i].value);}
            },     50);
         });
    loadchart();
    },   600);
});
function langchange(){
    initTable(locallang());
}
function thead(eg) {
var col=[]
for(el in eg){
    e=api(el)
    var filterControl="input"
    var formatter=undefined
    var cellStyle=undefined
    var strict=true
    // var escapes=false
    var visible=(title[e]==undefined?false:true)
    var cwidth=""
    if(e=='name'){
        formatter=itemicon
        strict=false;}
    if(e=='rare'){
        filterControl="select";}
    if(e=='soku'){
        formatter=formatSoku;}
    if(e=='leng'){
        formatter=formatRange;}
    if(e=='itype'){
        strict=false
        formatter=formatItype;}
    if(e=='developable'){filterControl="select";
        formatter=formatDev;}
    if(e=='soku'||e=='backs'||e=='slot_num'||e=='leng'){
        filterControl="select";}
    if(e=='luck'||e=='soku'||e=='broken'||e=='backs'||e=='slot_num'||e=='taik'){
        visible=false;}
    var temp=getname(e,kj)
    var temp=(Width()<1080)?(temp):temp
    col.push({
            title: temp,
            field: el,
            sortable: true,
            filterControl:filterControl,
            formatter:formatter,
            cellStyle:cellStyle,
            filterStrictSearch:strict,
            // escape:escapes,
            visible: visible,
            width:cwidth,
        }
    )
}   
return col;
}
function itemicon(value,row,index){
    for (i=0;i<slotitem.length;i++){
        if(slotitem[i]['name']==value){
            str=slotitem[i]['type'][3]
        return '<i style="background-image:url(http://fleet.diablohu.com/!/assets/images/itemicon/'+str+'.png);" class="item"></i>'+value
        }
    }
}
function initTable(lval){
    if(lval){ kj=(lval.slice(0,2)=='zh'||lval.slice(0,2)=='ja')}else{console.log(lval)};
    $.getJSON("../parsed/api_mst_slotitem.json",function(result){
    slotitem=[];
    result.forEach(el => {
        if((el['api_id']<501)){
        var i={}
        for(key in el){
            i[api(key)]=el[key]
        }
        slotitem.push(i)}
    });
    addcol(slotitem,"itype","type",2)
    loadprot(cm12);
    $('#mytab').bootstrapTable('destroy').bootstrapTable({
        method: 'get',
        data:slotitem,
        sortReset: true,
        striped: false, // 是否显示行间隔色
        pageNumber: 1, // 初始化加载第一页
        pagination: true, // 是否分页
        sidePagination: 'client', // server:服务器端分页|client：前端分页
        pageSize: 20, // 单页记录数
        pageList: [10, 50, 100, 500],
        stickyHeader: true,
        stickyHeaderOffsetLeft: em,
        stickyHeaderOffsetRight: em,
        locale: lval,
        columns: thead(cm12)
        // showRefresh : true,// 刷新按钮
        // queryParams: function(params) { // 上传服务器的参数
        //     var temp = {
        //         name: $("#sname").val(),
        //         viewReason: $("#viewReason").val(),
        //     };
        //     return temp;
        // },
    });
    var padding='4'
    // if(Width()<1200){padding=kj?'2':'2';
    //     $('.table .th-inner').css( 'white-space','normal')}
    document.getElementById("csscontainer").innerHTML=(".fix-sticky {padding-top:"+padding+"0px;position: fixed !important;overflow: hidden;  z-index: 100;}")
    $('.loading').hide();
    });}
  </script>
  <script>
// $('#mytab').find('th').attr("data-sortable","true");
// $('#mytab').find('.th-inner').attr("class","sortable both");
function formatLv(value){
    return kj?(value=='no'?'否':'是'):value
}
function formatDev(value, row, index){
    return developable.indexOf(row["id"])>-1?'可':'不可'
}
function formatSoku(value, row, index) {
    return value == 10 ? (kj?"高速":'high speed') : (kj?"低速":'low speed');
}
function formatRange(value, row, index) {
var str;
switch(value) {
    case 1:
        str = "短";
        break;
    case 2:
        str = "中";
        break;
    case 3:
        str = "長";
        break;
    default:
        str = "超長";}
return str;
}
  </script>
  </body>
</html>